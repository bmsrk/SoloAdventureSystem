# How to See Room Descriptions and NPC Bios

You mentioned you're not seeing room descriptions or NPC descriptions. Here's how to fix that:

## The Problem

The model file is likely corrupted. This happens when:
- Download was interrupted
- File permissions issue
- Disk space ran out during download

## Quick Fix

### Option 1: PowerShell Script (Easiest)
```powershell
# From repository root
.\test-llamasharp.ps1
```

This will:
1. Check if model exists and is valid size
2. Offer to delete corrupted model
3. Run validation tool
4. Show you actual generated text

### Option 2: Manual Steps
```powershell
# 1. Delete corrupted model
Remove-Item "$env:APPDATA\SoloAdventureSystem\models\phi-3-mini-q4.gguf" -Force

# 2. Run validation tool
cd SoloAdventureSystem.ValidationTool
dotnet run
```

### Option 3: Minimal Test (Simplest)
```powershell
cd SoloAdventureSystem.ValidationTool

# Temporarily rename Program.cs
Rename-Item Program.cs Program.cs.bak

# Rename MinimalTest.cs to Program.cs
Rename-Item MinimalTest.cs Program.cs

# Run it
dotnet run

# Restore original
Rename-Item Program.cs MinimalTest.cs
Rename-Item Program.cs.bak Program.cs
```

## What You Should See

When it works correctly, you'll see output like:

```
??????????????????????????????????????????????????????????
TEST 1: Room Description
??????????????????????????????????????????????????????????
Prompt: 'A dimly lit cyberpunk bar with neon signs'

GENERATED TEXT:
??????????????????????????????????????????????????????????
? The bar is bathed in pulsing blue and pink neon,      ?
? casting strange shadows across chrome barstools.       ?
? Holographic displays flicker with encrypted data       ?
? streams while patrons huddle over their drinks.        ?
??????????????????????????????????????????????????????????
Length: 187 characters

??????????????????????????????????????????????????????????
TEST 2: NPC Biography
??????????????????????????????????????????????????????????
Prompt: 'A skilled hacker named Zero'

GENERATED TEXT:
??????????????????????????????????????????????????????????
? Zero is a legendary netrunner known for cracking      ?
? corporate firewalls. Operating from the shadows of     ?
? Neon City, Zero sells data to the highest bidder       ?
? while staying one step ahead of security forces.       ?
??????????????????????????????????????????????????????????
Length: 215 characters

??????????????????????????????????????????????????????????
TEST 3: Faction Description
??????????????????????????????????????????????????????????
Prompt: 'The Chrome Syndicate, a powerful gang'

GENERATED TEXT:
??????????????????????????????????????????????????????????
? The Chrome Syndicate controls the underground tech    ?
? markets across three districts. Known for their        ?
? chrome-plated cybernetics and ruthless tactics,        ?
? they demand tribute from all black market vendors.     ?
??????????????????????????????????????????????????????????
Length: 221 characters

???????????????????????????????????????????????????????????
  ? ALL TESTS PASSED!
???????????????????????????????????????????????????????????

? Room description: 187 chars
? NPC biography: 215 chars
? Faction flavor: 221 chars

LLamaSharp is generating text correctly! ??
```

## Troubleshooting

### "Failed to load model"
**Cause**: Corrupted model file  
**Fix**: Delete and re-download
```powershell
Remove-Item "$env:APPDATA\SoloAdventureSystem\models\*" -Force
```

### "Model file too small"
**Cause**: Incomplete download  
**Expected Size**: ~2.0 GB for phi-3-mini-q4  
**Fix**: Delete and re-download

### No output at all
**Cause**: Model not generating (rare)  
**Fix**: Try smaller model
```powershell
dotnet run -- tinyllama-q4
```

### Takes forever
**Cause**: CPU-only inference (normal)  
**Expected Time**: 
- First run: 2-5 minutes (includes download)
- Subsequent runs: 15-20 seconds
- Per generation: 2-4 seconds each

## What Each Tool Does

### `Program.cs` (Main Validation Tool)
- Downloads model if needed
- Tests 3 types: Room, NPC, Faction
- Full validation with quality checks
- **Run**: `dotnet run`

### `MinimalTest.cs` (Simple Test)
- Bare minimum test
- Just generates text and shows it
- No fancy formatting
- **Run**: Rename to Program.cs and `dotnet run`

### `PromptTester.cs` (Library)
- Reusable testing code
- Use in your own programs
- Structured results

### `test-llamasharp.ps1` (PowerShell)
- Automated testing
- Checks model health
- Offers to fix issues
- **Run**: `.\test-llamasharp.ps1`

## Quick Commands Cheat Sheet

```powershell
# Delete corrupted model
Remove-Item "$env:APPDATA\SoloAdventureSystem\models\phi-3-mini-q4.gguf"

# Run validation (shows descriptions)
cd SoloAdventureSystem.ValidationTool
dotnet run

# Check model file
Get-Item "$env:APPDATA\SoloAdventureSystem\models\phi-3-mini-q4.gguf" | Select-Object Length, LastWriteTime

# Use PowerShell script (recommended)
.\test-llamasharp.ps1
```

## Expected Model Sizes

| Model | Size | Speed | Quality |
|-------|------|-------|---------|
| tinyllama-q4 | 600 MB | Fast | Good |
| llama-3.2-1b-q4 | 800 MB | Medium | Better |
| phi-3-mini-q4 | 2.0 GB | Slower | Best |

## Next Steps

Once you see the descriptions:
1. ? Verify they make sense for the prompts
2. ? Check they're not too short (>100 chars usually)
3. ? Try different seeds to see variety
4. ? Run full world generation with CLI

## If Nothing Works

1. Delete entire models folder:
   ```powershell
   Remove-Item "$env:APPDATA\SoloAdventureSystem\models\" -Recurse -Force
   ```

2. Try smallest model first:
   ```powershell
   cd SoloAdventureSystem.ValidationTool
   dotnet run -- tinyllama-q4
   ```

3. Check disk space:
   ```powershell
   Get-PSDrive C | Select-Object Used, Free
   ```
   Need at least 3 GB free

4. Open an issue on GitHub with:
   - Error messages
   - Model file size
   - System specs (RAM, OS)
